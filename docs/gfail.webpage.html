
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>gfail.webpage &#8212; groundfailure 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="gfail.utilities" href="gfail.utilities.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-gfail.webpage">
<span id="gfail-webpage"></span><h1>gfail.webpage<a class="headerlink" href="#module-gfail.webpage" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="gfail.webpage.hazdev">
<code class="sig-prename descclassname">gfail.webpage.</code><code class="sig-name descname">hazdev</code><span class="sig-paren">(</span><em class="sig-param">maplayerlist</em>, <em class="sig-param">configs</em>, <em class="sig-param">shakemap</em>, <em class="sig-param">outfolder=None</em>, <em class="sig-param">alpha=0.7</em>, <em class="sig-param">shakethreshtype='pga'</em>, <em class="sig-param">probthresh=None</em>, <em class="sig-param">shakethresh=10.0</em>, <em class="sig-param">prefLS='Nowicki Jessee and others (2017)'</em>, <em class="sig-param">prefLQ='Zhu and others (2017)'</em>, <em class="sig-param">pop_file=None</em>, <em class="sig-param">defaultcolors=True</em>, <em class="sig-param">point=True</em>, <em class="sig-param">pager_alert=''</em>, <em class="sig-param">eventsource=''</em>, <em class="sig-param">eventsourcecode=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gfail/webpage.html#hazdev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gfail.webpage.hazdev" title="Permalink to this definition">¶</a></dt>
<dd><p>Create all files needed for product page creation
Assumes gfail has been run already with -w flag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maplayerlist</strong> (<em>list</em>) – List of model outputs from gfail.</p></li>
<li><p><strong>configs</strong> (<em>list</em>) – List of dictionaries of config files corresponding to
each model in maplayerlist and in the same order.</p></li>
<li><p><strong>shakemap</strong> (<em>str</em>) – path to shakemap .xml file.</p></li>
<li><p><strong>outfolder</strong> (<em>str</em>) – Location in which to save outputs. If None, will use
current directory.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Transparency to use for overlay pngs, value from 0 to 1.</p></li>
<li><p><strong>shakethreshtype</strong> (<em>str</em>) – Type of ground motion to use for shakethresh,
‘pga’, ‘pgv’, or ‘mmi’.</p></li>
<li><p><strong>probthresh</strong> – Optional. Float or list of probability thresholds to apply
before computing stats.</p></li>
<li><p><strong>shakethresh</strong> – Float or list of shaking thresholds in %g for pga, cm/s
for pgv, float for mmi. Used for Hagg and Exposure computation.</p></li>
<li><p><strong>prefLS</strong> (<em>str</em>) – shortref of “preferred” landslide model.</p></li>
<li><p><strong>prefLQ</strong> (<em>str</em>) – shortref of “preferred” liquefaction model.</p></li>
<li><p><strong>pop_filt</strong> (<em>str</em>) – file path to population file used to compute
population-based alert levels.</p></li>
<li><p><strong>defaultcolors</strong> (<em>bool</em>) – If True, will use DFCOLORS for all layers instead
of determining new ones. This will crash if any of the layers have
a different number of bins than the number of DFCOLORS</p></li>
<li><p><strong>point</strong> (<em>bool</em>) – if True, event is a point source and warning should be
displayed</p></li>
<li><p><strong>pager_alert</strong> (<em>str</em>) – PAGER alert level, e.g., ‘green’. ‘pending’, …</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Files that need to be sent to comcat for hazdev to create the product</dt><dd><dl class="simple">
<dt>webpage including:</dt><dd><ul class="simple">
<li><p>info.json</p></li>
<li><p>transparent png overlays of all models</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gfail.webpage.create_png">
<code class="sig-prename descclassname">gfail.webpage.</code><code class="sig-name descname">create_png</code><span class="sig-paren">(</span><em class="sig-param">event_dir</em>, <em class="sig-param">lsmodels=None</em>, <em class="sig-param">lqmodels=None</em>, <em class="sig-param">mercator=True</em>, <em class="sig-param">lsmask=0.002</em>, <em class="sig-param">lqmask=0.005</em>, <em class="sig-param">legends=False</em>, <em class="sig-param">eventsource=''</em>, <em class="sig-param">eventsourcecode=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gfail/webpage.html#create_png"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gfail.webpage.create_png" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates transparent PNG file for website.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_dir</strong> (<em>srt</em>) – Directory containing ground failure results.</p></li>
<li><p><strong>lsmodels</strong> (<em>list</em>) – List of dictionaries of model summary info compiled
by the hazdev function. If not specified, code will search for
the hdf5 files for the preferred model and will create this
dictionary and will apply default colorbars and bins.</p></li>
<li><p><strong>lqmodels</strong> (<em>list</em>) – Same as above for liquefaction.</p></li>
<li><p><strong>mercator</strong> (<em>bool</em>) – Project raster to web mercator</p></li>
<li><p><strong>lsmask</strong> (<em>float</em>) – Mask all landslide cells with probabilities below this
threshold</p></li>
<li><p><strong>lqmask</strong> (<em>float</em>) – Mask all liquefaction cells with probabilities below
this threshold</p></li>
<li><p><strong>legends</strong> (<em>bool</em>) – if True, will produce png files of legends for each
preferred model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>.png map overlays and .json files specifying their mapped extents</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gfail.webpage.create_info">
<code class="sig-prename descclassname">gfail.webpage.</code><code class="sig-name descname">create_info</code><span class="sig-paren">(</span><em class="sig-param">event_dir</em>, <em class="sig-param">lsmodels=None</em>, <em class="sig-param">lqmodels=None</em>, <em class="sig-param">eventsource=''</em>, <em class="sig-param">eventsourcecode=''</em>, <em class="sig-param">point=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gfail/webpage.html#create_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gfail.webpage.create_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Create info.json for ground failure product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_dir</strong> (<em>srt</em>) – Directory containing ground failure results.</p></li>
<li><p><strong>lsmodels</strong> (<em>list</em>) – List of dictionaries of model summary info compiled
by the hazdev function. If not specified, code will search for
the hdf5 files for the preferred model and will create this
dictionary and will apply default colorbars and bins.</p></li>
<li><p><strong>lqmodels</strong> (<em>list</em>) – Same as above for liquefaction.</p></li>
<li><p><strong>point</strong> (<em>bool</em>) – if True, event is a point source and warning should be
displayed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>creates info.json for this event</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="gfail.webpage.make_legends">
<code class="sig-prename descclassname">gfail.webpage.</code><code class="sig-name descname">make_legends</code><span class="sig-paren">(</span><em class="sig-param">lqmin=0.005</em>, <em class="sig-param">lsmin=0.002</em>, <em class="sig-param">outfolder=None</em>, <em class="sig-param">orientation='horizontal'</em>, <em class="sig-param">transparent=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gfail/webpage.html#make_legends"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gfail.webpage.make_legends" title="Permalink to this definition">¶</a></dt>
<dd><p>Make png file of legends to go with pngs using DFCOLORS and DFBINS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lqmin</strong> (<em>float</em>) – minimum visible value of liquefaction probability</p></li>
<li><p><strong>lsmin</strong> (<em>float</em>) – same as above for landslides</p></li>
<li><p><strong>outfolder</strong> (<em>float</em>) – folder to place pngs of legends</p></li>
<li><p><strong>orientation</strong> (<em>str</em>) – orientation of colorbar, ‘horizontal’ or ‘vertical’</p></li>
<li><p><strong>transparent</strong> (<em>bool</em>) – if True, background will be transparent</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(lsfilename, lqfilename), locations of files that were created.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">groundfailure</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="gfail.html">gfail</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gfail.conf.html">gfail.conf</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.gfailrun.html">gfail.gfailrun</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.godt.html">gfail.godt</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.logisticmodel.html">gfail.logisticmodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.makemaps.html">gfail.makemaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.pdl.html">gfail.pdl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.spatial.html">gfail.spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.stats.html">gfail.stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.temphdf.html">gfail.temphdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.transfer.html">gfail.transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfail.utilities.html">gfail.utilities</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">gfail.webpage</a></li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>